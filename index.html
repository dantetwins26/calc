<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 åŠ ç­è£œä¼‘åŠ©æ‰‹</title>
    <style>
        :root {
            --primary-color: #007AFF;
            --bg-color: #F2F2F7;
            --card-bg: #FFFFFF;
            --text-main: #1C1C1E;
            --text-sub: #8E8E93;
            --accent-red: #FF3B30;
            --accent-green: #34C759;
            --highlight-bg: #FFF9E6;
        }

        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-main);
            margin: 0; padding: 15px;
            display: flex; justify-content: center;
        }

        .app-container { width: 100%; max-width: 480px; }

        .card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        h2 { margin-top: 0; font-size: 20px; text-align: center; color: var(--primary-color); }

        .input-group { margin-bottom: 15px; }
        
        label { display: block; font-size: 14px; font-weight: 600; margin-bottom: 6px; color: #3A3A3C; }

        select, input {
            width: 100%;
            height: 48px;
            border: 1px solid #D1D1D6;
            border-radius: 10px;
            padding: 0 12px;
            font-size: 16px;
            box-sizing: border-box;
            background-color: #FFF;
        }

        /* ç‰¹åˆ¥å¼·åŒ–è¶…å‹¤æ™‚æ•¸çš„è¼¸å…¥æ¡† */
        #overtime_pay { border: 2px solid #FFCC00; background-color: var(--highlight-bg); }

        .readonly-field { background-color: #F2F2F7; font-weight: bold; border: none; color: #1C1C1E; }

        .row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }

        button {
            width: 100%;
            height: 52px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            transition: opacity 0.2s;
            margin-top: 10px;
        }

        button:active { opacity: 0.7; }

        .result-box {
            display: none;
            background: #EBF5FF;
            border-radius: 12px;
            padding: 15px;
            margin-top: 20px;
            border: 1px solid #BEE3F8;
        }

        .result-title { font-size: 13px; color: var(--text-sub); margin-bottom: 10px; }
        .result-main { font-size: 32px; font-weight: 800; color: var(--accent-red); text-align: center; margin: 10px 0; }
        .result-detail { font-size: 14px; display: flex; justify-content: space-between; margin-bottom: 5px; }

        .copy-btn { background-color: var(--accent-green); height: 40px; font-size: 14px; margin-top: 15px; }

        .footer-note { font-size: 12px; color: var(--text-sub); text-align: center; margin-top: 20px; line-height: 1.5; }
    </style>
</head>
<body>

<div class="app-container">
    <div class="card">
        <h2>ğŸ•’ 2026 åŠ ç­è£œä¼‘åŠ©æ‰‹</h2>
        
        <div class="input-group">
            <label>1. é¸æ“‡æœˆä»½</label>
            <select id="monthSelect" onchange="initWorkDays()">
                <option value="1,20">1æœˆ (åŸºæº– 20å¤© - æ‰£1/19)</option>
                <option value="2,14">2æœˆ (åŸºæº– 14å¤©)</option>
                <option value="3,22">3æœˆ (åŸºæº– 22å¤©)</option>
                <option value="4,19">4æœˆ (åŸºæº– 19å¤©)</option>
                <option value="5,21">5æœˆ (åŸºæº– 21å¤©)</option>
                <option value="6,19">6æœˆ (åŸºæº– 19å¤©)</option>
                <option value="7,23">7æœˆ (åŸºæº– 23å¤©)</option>
                <option value="8,21">8æœˆ (åŸºæº– 21å¤©)</option>
                <option value="9,20">9æœˆ (åŸºæº– 20å¤©)</option>
                <option value="10,21">10æœˆ (åŸºæº– 21å¤©)</option>
                <option value="11,21">11æœˆ (åŸºæº– 21å¤©)</option>
                <option value="12,23">12æœˆ (åŸºæº– 23å¤©)</option>
            </select>
        </div>

        <div class="input-group">
            <label>2. æ‰€å±¬ç­åˆ¥</label>
            <select id="groupSelect" onchange="initWorkDays()">
                <option value="A">ç”²ç­ (12/28æœ‰ä¸Šç­)</option>
                <option value="B">ä¹™ç­ (12/28ä¼‘æ¯)</option>
            </select>
        </div>

        <div class="input-group">
            <label>3. å·²é ˜è¶…å‹¤æ™‚æ•¸ (HR)</label>
            <input type="number" id="overtime_pay" value="0" placeholder="è«‹è¼¸å…¥æœ¬æœˆå ±é ˜æ™‚æ•¸">
        </div>
        
        <div id="shiftInfo" style="font-size: 13px; color: var(--primary-color); margin-top: 5px; font-weight: bold;"></div>
    </div>

    <div class="card">
        <label style="color:var(--text-sub); margin-bottom:15px; display:block;">4. å¡«å¯«è®Šå‹•å‡åˆ¥ (ç³»çµ±å°‡è‡ªå‹•è¨ˆç®—æ­£å¸¸å·¥æ™‚)</label>
        <div class="row">
            <div class="input-group">
                <label>è£œä¼‘(12hr)</label>
                <input type="number" id="c_day" value="0" oninput="syncDays()">
            </div>
            <div class="input-group">
                <label>è«‹ä¼‘(8hr)</label>
                <input type="number" id="l_day" value="0" oninput="syncDays()">
            </div>
        </div>
        <div class="row">
            <div class="input-group">
                <label>å¤–å®¿(12hr)</label>
                <input type="number" id="s_day" value="0" oninput="syncDays()">
            </div>
            <div class="input-group">
                <label>åŠ ä¼‘(0hr)</label>
                <input type="number" id="a_day" value="0" oninput="syncDays()">
            </div>
        </div>
        
        <div class="input-group" style="margin-top:10px;">
            <label>è‡ªå‹•è¨ˆç®—ï¼šæ­£å¸¸ä¸Šç­ (20hr) å¤©æ•¸</label>
            <input type="number" id="n_day" class="readonly-field" readonly>
        </div>

        <button onclick="calculateFinal()">é–‹å§‹çµç®—è£œä¼‘</button>

        <div id="resultArea" class="result-box">
            <div class="result-title">çµç®—å ±å‘Š</div>
            <div class="result-detail"><span>å…¬å‹™åŸºæº–é–€æª»</span><span id="res_std"></span></div>
            <div class="result-detail"><span>å€‹äººå¯¦ä¸Šç¸½æ™‚æ•¸</span><span id="res_my"></span></div>
            <div class="result-detail"><span>åŠ ç­ç¸½æ™‚æ•¸</span><span id="res_ot"></span></div>
            <div class="result-detail"><span>- æ‰£é™¤å ±é ˜è¶…å‹¤</span><span id="res_pay"></span></div>
            <hr style="border: 0; border-top: 1px dashed #BEE3F8; margin: 10px 0;">
            <div style="text-align:center; font-size: 14px; font-weight: bold; color: #333;">å‰©é¤˜å¯è£œä¼‘æ™‚æ•¸</div>
            <div class="result-main"><span id="res_rest"></span> HR</div>
            <button class="copy-btn" onclick="copyResult()">è¤‡è£½çµç®—æ–‡å­—å‚³é€ LINE</button>
        </div>
    </div>

    <div class="footer-note">
        â€» 1æœˆåŸºæº–å·²æ‰‹å‹•æ‰£é™¤ 1/19<br>
        â€» è¶…å‹¤æ™‚æ•¸æ¬„ä½å·²é»ƒåº•æ¨™ç¤ºï¼Œæ–¹ä¾¿å€åˆ†
    </div>
</div>

<script>
const baseDate = new Date(2025, 11, 28); 
let totalShiftDays = 0; 

function initWorkDays() {
    let rawData = document.getElementById('monthSelect').value.split(',');
    let year = 2026;
    let month = parseInt(rawData[0]) - 1;
    let group = document.getElementById('groupSelect').value;
    
    let workDaysCount = 0;
    let daysInMonth = new Date(year, month + 1, 0).getDate();

    for (let d = 1; d <= daysInMonth; d++) {
        let current = new Date(year, month, d);
        let diffTime = current.getTime() - baseDate.getTime();
        let diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
        if (group === 'A') { if (diffDays % 2 === 0) workDaysCount++; }
        else { if (Math.abs(diffDays % 2) === 1) workDaysCount++; }
    }
    
    totalShiftDays = workDaysCount;
    document.getElementById('shiftInfo').innerText = "ğŸ“… ç³»çµ±åµæ¸¬è©²æœˆæ’ç­ï¼š" + totalShiftDays + " å¤©";
    syncDays();
}

function syncDays() {
    let c = parseInt(document.getElementById('c_day').value) || 0;
    let l = parseInt(document.getElementById('l_day').value) || 0;
    let s = parseInt(document.getElementById('s_day').value) || 0;
    let a = parseInt(document.getElementById('a_day').value) || 0;
    let remaining = totalShiftDays - (c + l + s + a);
    document.getElementById('n_day').value = (remaining < 0) ? 0 : remaining;
}

function calculateFinal() {
    let rawData = document.getElementById('monthSelect').value.split(',');
    let stdHours = parseInt(rawData[1]) * 8;
    let n = parseInt(document.getElementById('n_day').value) || 0;
    let c = parseInt(document.getElementById('c_day').value) || 0;
    let l = parseInt(document.getElementById('l_day').value) || 0;
    let s = parseInt(document.getElementById('s_day').value) || 0;
    let pay = parseInt(document.getElementById('overtime_pay').value) || 0;

    let myTotal = (n * 20) + (c * 12) + (l * 8) + (s * 12);
    let ot = myTotal - stdHours;
    let rest = ot - pay;
    
    document.getElementById('res_std').innerText = stdHours + " hr";
    document.getElementById('res_my').innerText = myTotal + " hr";
    document.getElementById('res_ot').innerText = ot + " hr";
    document.getElementById('res_pay').innerText = pay + " hr";
    document.getElementById('res_rest').innerText = rest;
    document.getElementById('resultArea').style.display = 'block';
    
    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
}

function copyResult() {
    let monthName = document.getElementById('monthSelect').options[document.getElementById('monthSelect').selectedIndex].text;
    let rest = document.getElementById('res_rest').innerText;
    let text = `ã€2026 åŠ ç­çµç®—å ±å‘Šã€‘\næœˆä»½ï¼š${monthName}\nåŠ ç­ç¸½æ™‚æ•¸ï¼š${document.getElementById('res_ot').innerText}\nå·²æ‰£å ±é ˜ï¼š${document.getElementById('res_pay').innerText}\nå‰©é¤˜è£œä¼‘ï¼š${rest} å°æ™‚`;
    
    if (navigator.clipboard) {
        navigator.clipboard.writeText(text).then(() => alert('å·²è¤‡è£½çµç®—å…§å®¹ï¼'));
    } else {
        alert(text);
    }
}

window.onload = initWorkDays;
</script>

</body>
</html>